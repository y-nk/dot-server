{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///./src/views/Wall.vue?b635","webpack:///./src/components/Create.vue?2a13","webpack:///./src/App.vue?5101","webpack:///./src/views/Wall.vue?95ed","webpack:///./src/api/register.js","webpack:///./src/api/socket.js","webpack:///./src/api/bind.js","webpack:///./src/api/invite.js","webpack:///./src/api/join.js","webpack:///./src/api/leave.js","webpack:///./src/api/send.js","webpack:///./src/components/Terminal.vue?eb4c","webpack:///src/components/Terminal.vue","webpack:///./src/components/Terminal.vue?aadf","webpack:///./src/components/Terminal.vue","webpack:///./src/components/Keyboard.vue?db11","webpack:///src/components/Keyboard.vue","webpack:///./src/components/Keyboard.vue?a4ff","webpack:///./src/components/Keyboard.vue","webpack:///src/views/Wall.vue","webpack:///./src/views/Wall.vue?6e6f","webpack:///./src/views/Wall.vue","webpack:///./src/views/Main.vue?7d4c","webpack:///./src/store/api.js","webpack:///./src/store/sessions/actions/create.js","webpack:///./src/store/sessions/actions/destroy.js","webpack:///./src/store/sessions/actions/type.js","webpack:///./src/store/sessions/actions/inject.js","webpack:///./src/store/sessions/actions/prompt.js","webpack:///./src/wait.js","webpack:///./src/store/sessions/actions/message.js","webpack:///./src/store/sessions/actions/page.js","webpack:///./src/store/sessions/actions/mode.js","webpack:///./src/store/sessions/actions/index.js","webpack:///./src/store/sessions/mutations/create.js","webpack:///./src/store/sessions/mutations/destroy.js","webpack:///./src/store/sessions/mutations/concat.js","webpack:///./src/store/sessions/mutations/replace.js","webpack:///./src/store/sessions/mutations/empty.js","webpack:///./src/store/sessions/mutations/scroll.js","webpack:///./src/store/sessions/mutations/mode.js","webpack:///./src/store/sessions/mutations/index.js","webpack:///./src/store/sessions/index.js","webpack:///./src/store/index.js","webpack:///./src/mixins/beforeRoute.js","webpack:///./src/components/Menu.vue?e2fd","webpack:///./src/components/Session.vue?296a","webpack:///src/components/Session.vue","webpack:///./src/components/Session.vue?a3d3","webpack:///./src/components/Session.vue","webpack:///./src/components/Create.vue?94f8","webpack:///src/components/Create.vue","webpack:///./src/components/Create.vue?a3fe","webpack:///./src/components/Create.vue","webpack:///src/components/Menu.vue","webpack:///./src/components/Menu.vue?2218","webpack:///./src/components/Menu.vue","webpack:///src/views/Main.vue","webpack:///./src/views/Main.vue?13d2","webpack:///./src/views/Main.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/assets/instructions.txt","webpack:///./src/i18n/en.js","webpack:///./src/i18n/jp.js","webpack:///./src/i18n/index.js","webpack:///./src/main.js","webpack:///./src/components/Keyboard.vue?86c1","webpack:///./src/components/Menu.vue?84f4","webpack:///./src/components/Terminal.vue?0ad5","webpack:///./src/views/Main.vue?35b7","webpack:///./src/components/Session.vue?ea8e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","auth","staticRenderFns","staticClass","on","type","username","fetch","process","method","headers","body","JSON","stringify","then","response","json","io","connect","token","Promise","resolve","socket","once","success","emit","room","_t","_l","row","chunk","class","metadata","style","author","_v","_s","props","Array","default","user","String","watch","$el","methods","includes","component","$event","stopPropagation","onkeydown","onkeyup","oncompositionstart","oncompositionupdate","oncompositionend","oninput","mounted","$on","compose","timer","setInterval","nodeName","beforeDestroy","clearInterval","isComposing","val","justEndedComposing","composingBuffer","e","isBackspace","isEnter","$emit","preventDefault","isTab","disabled","setImmediate","original","replacement","components","computed","active","$store","dispatch","payload","sessions","focus","destroy","myself","_e","namespaced","state","keyboard","Date","now","undefined","rooms","actions","login","commit","getters","register","reason","bound","id","root","subscribe","leave","invite","session","join","send","color","break","mutations","entries","find","uuid","rootState","ime","api","action","trail","expr","rows","unwatch","store","latest","concat","reverse","delay","setTimeout","char","wait","lines","inject","prompt","message","page","Error","heartbeat","keys","history","rewind","mark","write","chunks","pop","patch","locally","index","lastIndexOf","replace","empty","scroll","values","_","route","params","Vue","use","Vuex","Store","fn","beforeRouteEnter","beforeRouteUpdate","blink","required","update","Number","Boolean","deletable","clearTimeout","directives","rawName","expression","modifiers","ref","domProps","indexOf","_k","keyCode","target","composing","trim","$forceUpdate","REGEXP","test","stopImmediatePropagation","mixins","beforeRoute","names","next","attached","lock","$router","VueRouter","routes","path","Main","welcome","minlength","maxlength","format","exists","main","instructions","notfound","VueI18n","locale","messages","en","jp","config","productionTip","sync","router","i18n","render","h","App","$mount"],"mappings":"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","file":"js/app.0df5c97d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wall.vue?vue&type=style&index=0&id=3e1e4388&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wall.vue?vue&type=style&index=0&id=3e1e4388&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=style&index=0&id=37b0892d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=style&index=0&id=37b0892d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.auth)?_c('wall'):_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"welcome\"},[_c('terminal',{attrs:{\"data\":_vm.data}}),_c('keyboard',{on:{\"type\":_vm.type}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default async username => (\n  fetch(`${process.env.VUE_APP_SERVER}/auth`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ username })\n  })\n  .then(response => response.json())\n)\n","import io from 'socket.io-client'\nexport default io.connect(process.env.VUE_APP_WEBSOCKET)\n","import socket from './socket'\n\nexport default async (token) => new Promise(resolve => {\n  socket.once('bound', success => resolve(success))\n  socket.emit('bind', { token })\n})\n","import socket from './socket'\n\nexport default async (token, username) => new Promise(resolve => {\n  socket.once('invite', success => resolve(success))\n  socket.emit('invite', { token, username })\n})\n","import socket from './socket'\n\nexport default async (token, room) => new Promise(resolve => {\n  socket.once('join', success => resolve(success))\n  socket.emit('join', { token, room })\n})\n","import socket from './socket'\n\nexport default async (token, room) => (\n  socket.emit('leave', { token, room })\n)\n","import socket from './socket'\n\nexport default async (token, room, data) => {\n  socket.emit('tx', { ...data, room, token })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"terminal\"},[_vm._t(\"default\"),(!_vm.data.length)?_c('div',{staticClass:\"row\"}):_vm._l((_vm.data),function(row,i){return _c('div',{key:i,staticClass:\"row\"},_vm._l((row),function(chunk,j){return _c('span',{key:j,staticClass:\"chunk\",class:_vm.type(chunk.metadata),style:(_vm.style(chunk.metadata)),attrs:{\"data-author\":_vm.author(chunk.metadata)}},[_vm._v(_vm._s(chunk.data))])}),0)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"terminal\">\n    <slot />\n\n    <div v-if=\"!data.length\" class=\"row\" />\n\n    <div v-else :key=\"i\" v-for=\"(row, i) in data\" class=\"row\">\n      <span :key=\"j\" v-for=\"(chunk, j) in row\"\n        class=\"chunk\" :class=\"type(chunk.metadata)\" :style=\"style(chunk.metadata)\"\n        :data-author=\"author(chunk.metadata)\">{{ chunk.data }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    data: {\n      type: Array,\n      default: () => ([]),\n    },\n\n    user: {\n      type: String,\n      default: '',\n    },\n\n    watch: {\n      data() {\n        if (this.$el)\n          this.$el.scrollTop = 999999\n      },\n    }\n  },\n\n  methods: {\n    author({ author } = {}) {\n      if (author === this.user)\n        return 'myself'\n      else if (author === 'system')\n        return null\n\n      return author\n    },\n\n    type({ author } = {}) {\n      if (author === '~rainbow~')\n        return 'rainbow'\n    },\n\n    style({ author } = {}) {\n      if (['system', '~rainbow~'].includes(author))\n        return\n\n      if (author === this.user)\n        return '--color: var(--local)'\n      else\n        return  '--color: var(--foreign)'\n    }\n  },\n}\n</script>\n\n<style scoped>\n.terminal {\n  flex: 1 1 auto;\n\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  padding: 2em;\n\n  background: var(--background);\n  color: var(--primary);\n}\n\n.row:not(:last-child):empty:before {\n  content: '\\00a0';\n}\n\n.row:last-child:after {\n  content: '\\02588';\n  animation: blink 1.2s steps(2, start) infinite;\n}\n\n.chunk {\n  position: relative;\n  white-space: pre-wrap;\n  word-break: break-all;\n\n  color: var(--color, inherit);\n}\n\n.chunk:last-child:after {\n  content: '\\00a0';\n  display: none;\n}\n\n.chunk[data-author]:before {\n  content: attr(data-author);\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  padding: .25em .5em .125em;\n  background: inherit;\n  border-radius: 2px 2px 0 0;\n  transform: translateY(-100%);\n  font-size: .6em;\n  word-break: keep-all;\n}\n\n.chunk[data-author]:hover {\n  background: var(--color);\n  border-radius: 0 2px 2px 2px;\n  color: #fff;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, .5);\n}\n\n.chunk[data-author]:hover:before {\n  display: block;\n}\n\n.chunk.rainbow {\n  color: #0ff;\n  animation: rainbow 1s forwards infinite;\n}\n\n@keyframes blink {\n  to { visibility: hidden; }\n}\n\n@keyframes rainbow {\n  from { filter: hue-rotate(0deg) }\n  to { filter: hue-rotate(360deg) }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Terminal.vue?vue&type=template&id=28f1b4c4&scoped=true&\"\nimport script from \"./Terminal.vue?vue&type=script&lang=js&\"\nexport * from \"./Terminal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Terminal.vue?vue&type=style&index=0&id=28f1b4c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28f1b4c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{staticClass:\"keyboard\",attrs:{\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"spellcheck\":\"false\",\"autofocus\":\"\"},on:{\"keydown\":function($event){$event.stopPropagation();return _vm.onkeydown($event)},\"keyup\":function($event){$event.stopPropagation();return _vm.onkeyup($event)},\"compositionstart\":function($event){$event.stopPropagation();return _vm.oncompositionstart($event)},\"compositionupdate\":function($event){$event.stopPropagation();return _vm.oncompositionupdate($event)},\"compositionend\":function($event){$event.stopPropagation();return _vm.oncompositionend($event)},\"input\":function($event){$event.stopPropagation();return _vm.oninput($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <input class=\"keyboard\"\n\n    @keydown.stop=\"onkeydown\"\n    @keyup.stop=\"onkeyup\"\n\n    @compositionstart.stop=\"oncompositionstart\"\n    @compositionupdate.stop=\"oncompositionupdate\"\n    @compositionend.stop=\"oncompositionend\"\n\n    @input.stop=\"oninput\"\n\n    autocomplete=\"off\"\n    autocorrect=\"off\"\n    spellcheck=\"false\"\n    autofocus\n    />\n</template>\n\n<script>\nconst isBackspace = e => e.code === 'Backspace' || e.keyCode === 8\n\nconst isTab = e => e.code === 'Tab' || e.keyCode === 9\n\nconst isEnter = e => (\n     e.inputType === \"insertLineBreak\"\n  || e.code === 'Enter'\n  || e.keyCode === 13\n)\n\n\nexport default {\n  data: () => ({\n    isComposing: undefined,\n    justEndedComposing: false,\n    composingBuffer: '',\n  }),\n\n  mounted() {\n    this.$on('input', data => {\n      const ime = typeof data !== 'string'\n      this.$emit('type', { data, ime })\n    })\n\n    this.compose(false)\n\n    this.timer = setInterval(() => {\n      const { nodeName } = document.activeElement\n\n      if (nodeName !== 'INPUT')\n        this.$el.focus()\n    }, 100)\n  },\n\n  beforeDestroy() {\n    clearInterval(this.timer)\n  },\n\n  methods: {\n    compose(val) {\n      this.isComposing = val\n\n      this.$el.value = ''\n      this.justEndedComposing = false\n      this.composingBuffer = ''\n    },\n\n    oninput(e) {\n      if (this.isComposing !== e.isComposing)\n        this.compose(e.isComposing)\n\n      if (this.isComposing || isBackspace(e) || isEnter(e))\n        return\n\n      const value = e.inputType === 'insertFromPaste'\n        ? e.target.value\n        : e.data\n\n      this.$emit('input', value)\n      this.$el.value = ''\n    },\n\n    onkeydown(e) {\n      if (this.justEndedComposing)\n        this.compose(false)\n\n      if (this.isComposing)\n        return\n\n      if (isBackspace(e)) {\n        e.preventDefault()\n        this.$emit('input', '\\b')\n      }\n\n      if (isTab(e)) {\n        e.preventDefault()\n        this.$emit('input', '\\t')\n      }\n    },\n\n    onkeyup(e) {\n      if (!isEnter(e))\n        return\n\n      e.preventDefault()\n    \n      if (this.isComposing) {\n        if (!this.justEndedComposing) {\n          this.$el.disabled = true\n          setImmediate(() => this.$el.disabled = false)\n        }\n          \n        this.compose(false)\n        return\n      }\n\n      if (!this.composingBuffer.length)\n        this.$emit('input', '\\n')  \n    },\n\n    oncompositionstart(e) {\n      this.compose(true)\n    },\n\n    oncompositionupdate(e) {\n      this.$emit('input', {\n        original: this.composingBuffer,\n        replacement: e.data,\n      })\n\n      this.composingBuffer = e.data\n    },\n\n    oncompositionend(e) {\n      this.justEndedComposing = true\n    },\n  }\n}\n</script>\n\n<style scoped>\n.keyboard {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.keyboard:not(.debug) {\n  z-index: -1;\n  background: transparent;\n  border: none;\n  color: rgba(0, 0, 0, 0);\n  outline: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Keyboard.vue?vue&type=template&id=7a9681a4&scoped=true&\"\nimport script from \"./Keyboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Keyboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Keyboard.vue?vue&type=style&index=0&id=7a9681a4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a9681a4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"welcome\">\n    <terminal :data=\"data\" />\n    <keyboard @type=\"type\" />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nimport api from '@/api'\n\nimport Terminal from '@/components/Terminal'\nimport Keyboard from '@/components/Keyboard'\n\nimport license from '@/assets/license.txt'\n\nexport default {\n  components: { Terminal, Keyboard },\n\n  computed: {\n    active: vm => vm.$store.getters['sessions/active'],\n    data: vm => vm.$store.getters['sessions/session']?.data ?? [],\n  },\n\n  async mounted() {\n    await this.play(this.$t('auth.welcome'))\n\n    let username, error\n\n    while (true) {\n      username = await this.prompt()\n      error = await this.$store.dispatch('api/login', username)\n\n      if (error)\n        await this.play(this.$t(`auth.${error}`))\n      else {\n        this.$store.dispatch('sessions/page', this.active)\n        await this.play(this.$t('auth.success', [username]))\n        \n        await this.play(this.$t('main.instructions', [username]))\n        break\n      }\n    }\n  },\n\n  methods: {\n    type(payload) {\n      this.$store.dispatch('sessions/type', payload)\n    },\n\n    async play(data) {\n      await this.$store.dispatch('sessions/message', {\n        id: this.active, data\n      })\n    },\n\n    async prompt() {\n      await this.play(this.$t('auth.prompt'))\n\n      const username = await this.$store.dispatch('sessions/prompt')\n      return username\n    }\n  }\n}\n</script>\n\n<style scoped>\n.welcome {\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  height: 100%;\n}\n\n.welcome .terminal {\n  flex: 1 1 auto;\n}\n\n.welcome .keyboard {\n  flex: 0 1 auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wall.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Wall.vue?vue&type=template&id=3e1e4388&scoped=true&\"\nimport script from \"./Wall.vue?vue&type=script&lang=js&\"\nexport * from \"./Wall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Wall.vue?vue&type=style&index=0&id=3e1e4388&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e1e4388\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('transition',{attrs:{\"name\":\"enlarge\",\"appear\":\"\"}},[_c('Menu',{attrs:{\"sessions\":_vm.sessions,\"active\":_vm.active},on:{\"create\":_vm.connect,\"focus\":_vm.focus,\"destroy\":_vm.destroy}})],1),_c('terminal',{attrs:{\"user\":_vm.myself,\"data\":_vm.data}}),(_vm.key)?_c('keyboard',{key:_vm.key,on:{\"type\":_vm.type}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { register, bind, invite, join, leave, send } from '@/api'\nimport io from '@/api/socket'\n\nexport default {\n  namespaced: true,\n\n  state: {\n    keyboard: Date.now(),\n    username: undefined,\n    token: undefined,\n    rooms: {},\n  },\n\n  actions: {\n    async login({ state, commit, dispatch, getters }, username) {\n      const { success, token, reason } = await register(username)\n\n      if (!success)\n        return reason\n\n      const bound = await bind(token)\n\n      if (!bound)\n        return false\n\n      commit('login', { username, token })\n\n      // adding spontaneous events\n      io.on('summon', ({ room, name }) => (\n        dispatch('join', { room, name })\n      ))\n\n      io.on('rx', ({ room, ...payload }) => {\n        if (state.rooms[room])\n          dispatch('sessions/inject', {\n            id: state.rooms[room],\n            ...payload,\n          }, { root: true })\n      })\n\n      // break the composition state of the keyboard\n      io.on('break', () => commit('break'))\n\n      this.subscribe(({ type, payload }) => {\n        if (type !== 'sessions/destroy')\n          return\n\n        leave(state.token, getters.id(payload))\n        commit('destroy', getters.id(payload))\n      })\n    },\n\n    async invite({ state, commit, getters }, { user, session }) {\n      if (!getters.auth)\n        return\n\n      const room = await invite(state.token, user)\n      \n      if (room)\n        commit('create', { room, session })\n\n      return !!room\n    },\n\n    async join({ state, commit, dispatch }, { room, name }) {\n      if (!state.rooms[room]) {\n        const id = await dispatch('sessions/create', { name }, { root: true })\n        commit('create', { room, session: id })\n      }\n\n      const success = await join(state.token, room)\n\n      if (!success)\n        return false\n\n      return true\n    },\n\n    async send({ state }, { room, ...data }) {\n      send(state.token, room, {\n        ...data, metadata: {\n          author: state.username,\n          color: 'foreign',\n        }\n      })\n    },\n\n    async break({ commit }) {\n      commit('break', null)\n      setImmediate(() => commit('break', Date.now()))\n    },\n  },\n\n  mutations: {\n    break(state, value) {\n      state.keyboard = value\n    },\n\n    login(state, { username, token }) {\n      state.username = username\n      state.token = token\n    },\n\n    create(state, { room, session }) {\n      state.rooms = {\n        ...state.rooms,\n        [room]: session,\n      }\n    },\n\n    destroy(state, room) {\n      const { [room]: omit, ...rooms } = state.rooms\n      state.rooms = rooms\n    },\n  },\n\n  getters: {\n    auth: state => !!state.token,\n\n    id: state => session => Object.entries(state.rooms)\n      .find(([,value]) => value === session)\n      ?.shift()\n  },\n}\n","import { uuid } from 'uuidv4'\n\nexport default ({ commit }, { name }) => {\n  const id = uuid()\n  commit('create', { id, name })\n  return id\n}\n","export default ({ commit }, id) => commit('destroy', id)\n","export default ({ state, commit, getters, rootState }, { data, ime }) => {\n  const id = getters.active\n\n  if (state.sessions[id].mode === 'lock')\n    return commit('mode', { id, mode: 'interrupt' })\n\n  const author = rootState.api.username ?? '~rainbow~'\n  const metadata = { author }\n\n  const action = ime ? 'replace' : 'concat'\n  commit(action, { id, data, metadata })\n}\n","export default ({ state, commit, dispatch, getters }, { id, data, ime, metadata }) => {\n  if (state.sessions[id].mode === 'lock')\n    return\n  \n  const trail = getters.trail?.metadata ?? metadata\n\n  if (metadata.author !== trail.author)\n    dispatch('api/break', null, { root: true })\n\n  const action = ime ? 'replace' : 'concat'\n  commit(action, { id, data, metadata })\n}\n","import store from '@/store'\n\nexport default async ({ state, commit, getters }) => {\n  const id = getters.active\n\n  const expr = () => {\n    const rows = state.sessions[id].data\n    return rows[rows.length - 1]\n  }\n\n  commit('mode', { id, mode: 'prompt' })\n  commit('concat', { id, data: '' })\n  \n  return new Promise(resolve => {\n    const unwatch = store.watch(expr, val => {\n      if (val.length !== 0)\n        return\n  \n      const latest = state.sessions[id].data\n        .concat()\n        .reverse()\n        .find(row => row.length)\n  \n      const { data } = latest[latest.length - 1]\n\n      unwatch()\n      resolve(data)\n      commit('mode', { id, mode: 'unlock' })\n    })\n  })\n}\n","export default delay => new Promise(resolve => setTimeout(() => resolve(), delay))\n","import wait from '@/wait'\n\nconst delay = char => (\n  (char === undefined || char === '\\n')\n    ? 750\n    : 75\n)\n\nexport default async ({ state, commit }, { id, data }) => {\n  if (state.sessions[id].mode === 'lock')\n    return\n\n  commit('mode', { id, mode: 'lock' })\n\n  for (var i = 0; i < data.length; i++) {\n    commit('concat', {\n      id,\n      data: data[i],\n      metadata: { author: 'system' },\n    })\n\n    await wait(delay(data[i + 1]))\n    \n    if (state.sessions[id].mode === 'interrupt')\n      break;\n  }\n\n  if (i < data.length - 1)\n    commit('concat', {\n      id,\n      data: data.slice(i + 1),\n      metadata: { author: 'system' },\n    })\n\n    commit('mode', { id, mode: 'concat' })\n}\n","import wait from '@/wait'\n\nexport default async ({ state, commit }, id) => {\n  const lines = state.sessions[id].data.length\n  \n  for (var i = 0; i < lines; i++) {\n    commit('scroll', id)\n    await wait(375)\n  }\n}\n","export default ({ commit, getters }, mode) => {\n  const id = getters.active\n  commit('mode', { id, mode })\n}\n","import create from './create'\nimport destroy from './destroy'\n\nimport type from './type'\nimport inject from './inject'\n\nimport prompt from './prompt'\nimport message from './message'\nimport page from './page'\nimport mode from './mode'\n\nexport default {\n  create, destroy,\n  type, inject,\n  prompt, message,\n  page, mode,\n}\n","export default (state, { id, name }) => {\n  if (id in state.sessions)\n    throw new Error('session already exists')\n\n  const session = {\n    id, name,\n    heartbeat: Date.now(),\n    mode: 'concat', // concat, replace, lock, interrupt, prompt\n\n    data: [],\n  }\n\n  state.sessions = {\n    ...state.sessions,\n    [id]: session\n  }\n}\n","export default (state, id) => {\n  if (!(id in state.sessions))\n    throw new Error('unknown session')\n\n  const { [id]: omit, ...sessions } = state.sessions\n  state.sessions = sessions\n\n  if (state.active === id)\n    state.active = Object.keys(state.sessions).shift()\n}\n","export default (state, { id, data, metadata = {} }) => {\n  if (!(id in state.sessions))\n    throw new Error('unknown session')\n\n  let history = state.sessions[id].data\n\n  if (!data.length)\n    history = write(history, data, metadata)\n  else\n    for (const char of data) {\n      if (char === '\\b')\n        history = rewind(history, state.sessions[id].mode === 'prompt')\n      else if (char === '\\n')\n        history = mark(history)\n      else\n        history = write(history, char, metadata)\n    }\n\n  state.sessions[id].data = history\n  state.sessions[id].heartbeat = Date.now()\n}\n\nconst write = (history, data, metadata = {}) => {\n  const chunks = history.pop() ?? []\n  const latest = chunks.pop()\n\n  const { author } = metadata\n  const patch = latest ? [latest] : []\n\n  if (author === latest?.metadata?.author)\n    latest.data += data\n  else\n    patch.push({ data, metadata })\n  \n  return [...history, [...chunks, ...patch]]\n}\n\nconst rewind = (history, locally) => {\n  const chunks = history.pop() ?? []\n  const latest = chunks.pop()\n\n  if (latest)\n    latest.data = latest.data?.slice(0, -1)\n  \n  if (latest?.data?.length || locally)\n    return [...history, [...chunks, latest]]\n  else if (!chunks.length)\n    return [...history]\n\n  return [...history, chunks]\n}\n\nconst mark = history => (\n  [...history, []]\n)\n","export default (state, { id, data, metadata = {} }) => {\n  if (!(id in state.sessions))\n    throw new Error('unknown session')\n\n  const { original, replacement } = data\n\n  let history = state.sessions[id].data\n\n  const chunks = history.pop() ?? []\n  const chunk  = chunks.pop()\n\n  const { author } = metadata\n  const patch = chunk ? [chunk] : []\n\n  if (!chunk || author !== chunk?.metadata?.author)\n    patch.push({ data: '', metadata })\n  \n  const latest = patch[patch.length - 1]  \n\n  if (!original.length)\n    latest.data += replacement\n  else {\n    const index = latest.data.lastIndexOf(original)\n    latest.data = `${latest.data.slice(0, index)}${replacement}`\n  }\n  \n  state.sessions[id].data = [...history, [...chunks, ...patch]]\n}\n","export default (state, id) => {\n  if (!(id in state.sessions))\n    throw new Error('unknown session')\n\n  state.sessions[id].data = []\n}\n","export default (state, id) => {\n  if (!(id in state.sessions))\n    throw new Error('unknown session')\n\n  const [_, ...history] = state.sessions[id].data\n  state.sessions[id].data = history\n}\n","export default (state, { id, mode }) => {\n  if (!(id in state.sessions))\n    throw new Error('unknown session')\n\n  state.sessions[id].mode = mode\n}\n","import create from './create'\nimport destroy from './destroy'\n\nimport concat from './concat'\nimport replace from './replace'\nimport empty from './empty'\nimport scroll from './scroll'\n\nimport mode from './mode'\n\nexport default {\n  create,\n  destroy,\n\n  concat,\n  replace,\n  empty,\n  scroll,\n\n  mode,\n}\n","import actions from './actions'\nimport mutations from './mutations'\n\nexport default {\n  namespaced: true,\n\n  state: {\n    sessions: {},\n    active: undefined,\n  },\n  \n  actions,\n  mutations,\n\n  getters: {\n    // binding to all sessions\n    sessions: state => Object.values(state.sessions),\n\n    // connection with vuex-router-sync\n    active: (_, { sessions }, { route }) => (\n      sessions.find(({ name }) => name === (route.params.session || 'default'))?.id\n    ),\n\n    // bindings to the active session\n    session: (state, { active }) => state.sessions[active] ?? undefined,\n\n    // trailing chunk of the active session\n    trail: (_, { session }) => {\n      const { data = [] } = session\n      \n      const row = data[data.length - 1] ?? []\n      const chunk = row[row.length - 1] ?? {}\n\n      return chunk\n    },\n\n    // get session id from session name\n    id: state => name => (\n      Object.values(state.sessions)\n      .find(session => session.name === name)?.id\n    ),\n  }\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport api from '@/store/api'\nimport sessions from '@/store/sessions'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  modules: {\n    api,\n    sessions,\n  },\n})\n\nexport default store\n","export default fn => ({\n  beforeRouteEnter:  fn,\n  beforeRouteUpdate: fn,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"menu\"},[_vm._l((_vm.sessions),function(session,i){return _c('session',{key:i,attrs:{\"id\":session.id,\"name\":session.name,\"update\":session.heartbeat,\"active\":_vm.active === session.id,\"deletable\":i !== 0},on:{\"focus\":function (id) { return _vm.$emit('focus', id); },\"destroy\":function (id) { return _vm.$emit('destroy', id); }}})}),_c('create',{on:{\"submit\":function (name) { return _vm.$emit('create', name); }}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"session\",class:{ active: _vm.active, blink: _vm.blink }},[_c('button',{on:{\"click\":function($event){return _vm.$emit('focus', _vm.id)}}},[_vm._v(_vm._s(_vm.name))]),(_vm.deletable)?_c('button',{on:{\"click\":function($event){return _vm.$emit('destroy', _vm.id)}}},[_vm._v(\"[x]\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li class=\"session\" :class=\"{ active, blink }\">\n    <button @click=\"$emit('focus', id)\">{{ name }}</button>\n    <button v-if=\"deletable\" @click=\"$emit('destroy', id)\">[x]</button>\n  </li>\n</template>\n\n<script>\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n\n    name: {\n      type: String,\n      required: true,\n    },\n\n    update: {\n      type: Number,\n      default: 0,\n    },\n\n    active: {\n      type: Boolean,\n      default: false,\n    },\n\n    deletable: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data: () => ({ blink: false }),\n\n  watch: {\n    update() {\n      clearTimeout(this.timer)\n\n      if (this.active)\n        return\n\n      this.blink = true\n      this.timer = setTimeout(() => this.blink = false, 25)\n    },\n  },\n}\n</script>\n\n<style scoped>\n.session {\n  position: relative;\n  display: flex;\n  align-items: flex-start;\n  padding: 0;\n  cursor: pointer;\n  opacity: .8;\n\n  transition: background-color .2s;\n}\n\n.session.blink {\n  animation: blink .4s forwards infinite;\n}\n\n.session:hover {\n  background: var(--hovered);\n  color: var(--strong);\n}\n\n.session.active {\n  background: var(--selected);\n  color: var(--strong);\n}\n\n.session :first-child {\n  flex: 1 1 auto;\n}\n\n.session button {\n  display: block;\n  padding: 1em;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  outline: none;\n\n  font: inherit;\n  color: inherit;\n  text-align: inherit;\n  text-decoration: none;\n\n  transition: background-color .2s;\n}\n\n.session button:hover {\n  background: var(--hovered);\n  text-decoration: underline;\n}\n\n@keyframes blink {\n  from { color: var(--spectacular); }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Session.vue?vue&type=template&id=b67f2aca&scoped=true&\"\nimport script from \"./Session.vue?vue&type=script&lang=js&\"\nexport * from \"./Session.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Session.vue?vue&type=style&index=0&id=b67f2aca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b67f2aca\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"create\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.value),expression:\"value\",modifiers:{\"trim\":true}}],ref:\"input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.value)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.dispatch($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{attrs:{\"href\":\"#\",\"disabled\":_vm.disabled},on:{\"click\":_vm.dispatch}},[_vm._v(\"[+]\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li class=\"create\">\n    <input ref=\"input\" v-model.trim=\"value\"\n      type=\"text\"\n      @keypress.enter=\"dispatch\" />\n    <button href=\"#\" :disabled=\"disabled\" @click=\"dispatch\">[+]</button>\n  </li>\n</template>\n\n<script>\nconst REGEXP = /^[a-z0-9][a-z0-9_.-]{2,62}[a-z0-9]$/i\n\nexport default {\n  watch: {\n    value(val) {\n      this.disabled = !REGEXP.test(val)\n    },\n  },\n\n  data: () => ({\n    value: '',\n    disabled: true,\n  }),\n\n  methods: {\n    dispatch(e) {\n      e.preventDefault()\n      e.stopImmediatePropagation()\n\n      if (this.disabled)\n        return\n\n      this.$emit('submit', this.value)\n      this.value = ''\n      \n      setTimeout(() => this.$refs.input.blur(), 50)\n    },\n  }\n}\n</script>\n\n<style scoped>\n.create {\n  position: relative;\n  display: flex;\n  cursor: pointer;\n}\n\n.create :first-child {\n  flex: 1 1 auto;\n}\n\n.create input {\n  display: block;\n  width: 1%;\n  margin: 1em;\n  background: transparent;\n  border: none;\n  border-bottom: 1px solid currentColor;\n\n  outline: none;\n  color: inherit;\n  font-family: inherit;\n  font-size: inherit;\n}\n\n.create button {\n  display: block;\n  padding: 1em;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  outline: none;\n\n  font: inherit;\n  color: inherit;\n  text-align: inherit;\n  text-decoration: none;\n\n  transition: background-color .2s;\n}\n\n.create button[disabled] {\n  opacity: .5;\n  cursor: not-allowed;\n}\n\n.create button:not([disabled]):hover {\n  background: var(--hovered);\n  color: var(--background);\n\n  text-decoration: underline;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=37b0892d&scoped=true&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Create.vue?vue&type=style&index=0&id=37b0892d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37b0892d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <ul class=\"menu\">\n    <session :key=\"i\" v-for=\"(session, i) in sessions\"\n        :id=\"session.id\"\n        :name=\"session.name\"\n        :update=\"session.heartbeat\"\n        :active=\"active === session.id\"\n        :deletable=\"i !== 0\"\n        @focus=\"id => $emit('focus', id)\"\n        @destroy=\"id => $emit('destroy', id)\"\n        />\n    <create @submit=\"name => $emit('create', name)\" />\n  </ul>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nimport Session from '@/components/Session'\nimport Create from '@/components/Create'\n\nexport default {\n  components: { Session, Create },\n\n  props: {\n    sessions: {\n      type: Array,\n      required: true,\n    },\n\n    active: {\n      type: String,\n      default: undefined,\n    },\n  },\n}\n</script>\n\n<style scoped>\n.menu {\n  overflow: hidden;\n  \n  margin: 0;\n  padding: 0;\n\n  background: var(--background);\n  border-right: 1px solid var(--black);\n  color: var(--primary);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=8cc3caac&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=8cc3caac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8cc3caac\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"main\">\n    <transition name=\"enlarge\" appear>\n      <Menu\n        :sessions=\"sessions\"\n        :active=\"active\"\n        @create=\"connect\"\n        @focus=\"focus\"\n        @destroy=\"destroy\" />\n    </transition>\n\n    <terminal :user=\"myself\" :data=\"data\" />\n    <keyboard v-if=\"key\" :key=\"key\" @type=\"type\" />\n  </div>\n</template>\n\n<script>\nimport store from '@/store'\nimport { mapGetters } from 'vuex'\n\nimport beforeRoute from '@/mixins/beforeRoute'\n\nimport Menu from '@/components/Menu'\nimport Terminal from '@/components/Terminal'\nimport Keyboard from '@/components/Keyboard'\n\nexport default {\n  mixins: [beforeRoute((to, from, next) => {\n    const names = store.getters['sessions/sessions'].map(({ name }) => name)\n    const name  = to.params.session ?? ''\n\n    if (name.length && !names.includes(name))\n      return next('/')\n\n    next()\n  })],\n\n  components: { Menu, Terminal, Keyboard },\n\n  computed: {\n    key : vm => vm.$store.state.api.keyboard,\n\n    myself: vm => vm.$store.state.api.username,\n\n    sessions: vm => vm.$store.getters['sessions/sessions'],\n    default: vm => vm.$store.getters['sessions/id']('default'),\n\n    active: vm => vm.$store.getters['sessions/active'],\n    attached: vm => vm.$store.getters['api/id'](vm.active),\n\n    session: vm => vm.$store.getters['sessions/session'],\n\n    data: vm => vm.session?.data ?? [],\n    lock: vm => vm.session?.lock ?? true,\n  },\n\n  methods: {\n    type(payload) {\n      this.$store.dispatch('sessions/type', payload)\n\n      if (this.attached)\n        this.$store.dispatch('api/send', { room: this.attached, ...payload })\n    },\n\n    async connect(user) {\n      const id = await this.$store.dispatch('sessions/create', { name: user })\n      const success = await this.$store.dispatch('api/invite', { user, session: id })\n\n      if (success)\n        this.focus(id)\n      else {\n        this.destroy(id)\n        this.focus(this.default)\n\n        this.$store.dispatch('sessions/message', {\n          id: this.default, data: this.$t('main.notfound', [user])\n        })\n      }\n    },\n\n    focus(id) {\n      const session = this.sessions.find(session => session.id === id)\n\n      if (!session)\n        return\n\n      const name = session.name !== 'default' ? session.name : ''\n      this.$router.push(`/${name}`)\n    },\n\n    destroy(id) {\n      this.$store.commit('sessions/destroy', id)\n    },\n  }\n}\n</script>\n\n<style scoped>\n.main {\n  display: grid;\n  grid-template-areas: 'menu terminal' 'menu keyboard';\n  grid-template-columns: min-content auto;\n  grid-template-rows: auto 1vh;\n\n  width: 100%;\n  height: 100%;\n}\n\n.main .menu {\n  grid-area: menu;\n  width: 20vw;\n}\n\n.main .menu.enlarge-enter-active,\n.main .menu.enlarge-leave-active {\n  transition: width .4s;\n}\n\n.main .menu.enlarge-enter,\n.main .menu.enlarge-leave-to {\n  width: 0;\n}\n\n.main .terminal {\n  grid-area: terminal;\n}\n\n.main .keyboard {\n  grid-area: keyboard;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=2e624a1f&scoped=true&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Main.vue?vue&type=style&index=0&id=2e624a1f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e624a1f\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <wall v-if=\"!auth\" />\n    <router-view v-else />\n\n    \n  </div>\n</template>\n\n<script>\nimport Wall from '@/views/Wall'\nimport Main from '@/views/Main'\n\nimport Keyboard from '@/components/Keyboard'\n\nexport default {\n  components: { Wall, Main, Keyboard },\n  \n  computed: {\n    auth: vm => vm.$store.getters['api/auth'],\n  },\n}\n</script>\n\n<style>\n:root {\n  --black: #000;\n\n  --background: #0d0b0e;\n  --primary: #888;\n\n  --hovered: rgba(255, 255, 255, calc(2 / 3));\n  --selected: rgba(255, 255, 255, calc(9 / 10));\n\n  --strong: #222;\n  --spectacular: #fff;\n\n  --local: #0094ff;\n  --foreign: #ffca00;\n}\n\n* {\n  box-sizing: border-box;\n}\n\nhtml, body {\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n\n  background: var(--background);\n  color: var(--primary);\n\n  font-family: 'Courier New', Courier, monospace;\n}\n\n#app {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=54fbd494&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport Main from '@/views/Main'\n\nVue.use(VueRouter)\n\nexport default new VueRouter({\n  // mode: 'history',\n  routes: [{\n    path: '/:session?',\n    component: Main,\n  }]\n})\n","export default \"Here's a little experiment about communication.\\n\\nTo connect with someone, tap on the sidebar and input the name of your correspondant (press enter or push the [+] button to confirm)\\n\\nIf the person you're trying to reach is online, a chat session will open for both. Then, you can start typing right away. Otherwise, a simple \\\"user not found\\\" message will be prompted here.\\n\\nHave fun :)\\n\\n==========\\n\\nThoughts behind this experiment:\\n\\nI created this in order to reflect on the UX patterns involved into text-based communications.\\n\\nIn a real (voiced) conversation, instant is the essence. For most of the time, a multiple person interaction would involve mostly listening to someone's expression and later on reacting to it. For such a paradigm, listening is a primary function, and reacting is a response to it. Of course, some may prepare sentences in advanced, but then they wouldn't be fully listening and that would probably be seen.\\n\\nIn text-based conversations, and because we use a mediator in between people, we relay on that mediator's functionalities to communicate. The interactions aren't based on our primal instincts but rather on what the tool let us do.\\n\\nIt appeared to me that UX in that matter is quite consistent, but somehow differs from \\\"the normal course of actions\\\" since most are treating text-based conversation as something asynchronous rather than just a text translation of a phone call.\\n\\nNotably, those points came to mind:\\n\\n- The ability to type, redact and correct a message before sending.\\n\\nIt's sure something that doesn't occur organically in a conversation. Naturally, you can think ahead and take a pause to organize your thoughts, but in that case it translates into a real-timed pause within a conversation which induces its own context: \\\"why does my correspondant need a pause?, what are they thinking now?\\\" ; not to mention the casual awkwardness of silence which can come with it.\\n\\nIn a text-based world, if this real time pause may exist, but does not translate into the same intent, rather \\\"did my correspondant read my message?\\\" ; for most of the time it doesn't exist anyway, and that because of the asynchronicity of it.\\n\\nYou may argue that SMS were first to induce this, and you'd be right. But other factors are increasing the differences as well. At most, SMS were a technical constraint at the time, not an architectural design choice.\\n\\n- The layout of most of messages app doesn't reflect a conversation\\n\\nBecause text-based conversations are treated as asynchronous, we're most likely to not pay attention to it in the same way we treat a fragile, time-dependent conversation.\\n\\nThe typical messaging app will always display the reading space and the writing space at the same time. Along with the asynchronous nature, this induces the choice into a user to care more about its own writing than listening to the conversation before reacting. It is natural to say, user still have the choice to listen first, but I personally believe that this contributed to shift our relationship with relationships and conversations in modern society.\\n\\nTo battle this idea, this text-based chat application is entirely synchronous.\\n\\n- You can't reach people who aren't online\\n- There's no reading/writing space dichotomy, only one space for conversation.\\n- There's no buffer in typing, so that typing simultaneously will result in giberrish, as much as in real life and that users need to find a rythm to listen to each other.\\n\\nBy doing so, I hope to bring awareness that other people need to be listened to, and cared for, rather than focusing on ourselves and what we want to express.\\n\\nOf course, it's always a balance, but as for now it seems it's already leaning towards a side promoting the self rather than openness to others.\\n\";","import instructions from '@/assets/instructions.txt'\n\nexport default {\n  auth: {\n    welcome: `\nplease identify yourself before going any further.\nyour handle can be from 4 to 64 alpha-numerical characters.\n`,\n    prompt: `\nlogin: `,\n  \n    undefined: `\nthere was an error during login phase. please try again.\n`,\n\n    minlength: `\nthis username is too short. a minimum of 4 characters is required.\n`,\n  \n    maxlength: `\nthis username is too long. a maximum of 64 characters can be entered.\n`,\n\n    format: `\nthis username has invalid characters. make sure to use only alpha-numerical characters.\n`,\n\n    exists: `\nthis username is currently being used. please choose an other one.\n`,\n\n    success: `\nwelcome {0}!\n\n`\n  },\n\n  main: {\n      instructions,\n      notfound: `\nuser {0} was not found\n`\n  }\n}\n","export default {\n  \n}\n","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\n\nimport en from './en'\nimport jp from './jp'\n\nVue.use(VueI18n)\n\nexport default new VueI18n({\n  locale: 'en',\n  messages: {\n    en, jp,\n  },\n})\n","import Vue from 'vue'\nimport { sync } from 'vuex-router-sync'\n\nimport App from './App.vue'\nimport store from './store'\nimport router from './router'\nimport i18n from './i18n'\n\nVue.config.productionTip = false\nsync(store, router)\n\n// default terminal session\nstore.dispatch('sessions/create', { name: 'default' })\n\nnew Vue({\n  store,\n  router,\n  i18n,\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=style&index=0&id=7a9681a4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=style&index=0&id=7a9681a4&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=8cc3caac&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=8cc3caac&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=style&index=0&id=28f1b4c4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Terminal.vue?vue&type=style&index=0&id=28f1b4c4&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&id=2e624a1f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=style&index=0&id=2e624a1f&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=style&index=0&id=b67f2aca&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Session.vue?vue&type=style&index=0&id=b67f2aca&scoped=true&lang=css&\""],"sourceRoot":""}